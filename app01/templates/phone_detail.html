{% extends 'base.html' %}
{% load static %}

{% block title %}{{ phone.name }} - Details{% endblock %}

{% block content %}
<div class="container mt-5 phone-detail-container">
    <div class="row">
        <!-- Phone Image -->
        <div class="col-md-6">
            <div class="phone-image-container">
                <img src="{% static phone.image %}" alt="{{ phone.name }}" class="img-fluid">
            </div>
        </div>
        
        <!-- Phone Details -->
        <div class="col-md-6">
            <h1 class="phone-title">{{ phone.name }}</h1>
            <p class="phone-tagline">{{ phone.tagline }}</p>
            <div class="phone-price mb-4">
                <span class="current-price">¥{{ phone.price }}</span>
                {% if phone.original_price %}
                <span class="original-price">¥{{ phone.original_price }}</span>
                {% endif %}
            </div>
            
            <!-- Color Options -->
            <div class="color-options mb-4">
                <h5>选择颜色</h5>
                <div class="d-flex flex-wrap">
                    {% for color in phone.colors %}
                    <div class="color-option {% if forloop.first %}selected{% endif %}" 
                         style="background-color: {{ color.hex_code }};" 
                         title="{{ color.name }}">
                    </div>
                    {% endfor %}
                </div>
            </div>
            
            <!-- Storage Options -->
            <div class="storage-options mb-4">
                <h5>选择存储容量</h5>
                <div class="d-flex flex-wrap">
                    {% for storage in phone.storage_options %}
                    <div class="storage-option {% if forloop.first %}selected{% endif %}">
                        {{ storage }}
                    </div>
                    {% endfor %}
                </div>
            </div>
            
            <!-- Specifications -->
            <div class="specifications mb-4">
                <h5>规格</h5>
                <ul class="specs-list">
                    {% for spec in phone.specifications %}
                    <li>{{ spec }}</li>
                    {% endfor %}
                </ul>
            </div>
            
            <!-- Add to Cart Button -->
            <div class="action-buttons">
                <button class="btn btn-primary btn-lg btn-block mb-2">添加到购物车</button>
                <button class="btn btn-outline-secondary btn-lg btn-block">收藏</button>
            </div>
        </div>
    </div>
    
    <!-- Technical Specifications -->
    <div class="row mt-5">
        <div class="col-12">
            <h3 class="section-title">技术规格</h3>
            <div class="tech-specs">
                <div class="row">
                    <div class="col-md-6">
                        <h5>显示屏</h5>
                        <ul>
                            {% for display_spec in phone.tech_specs.display %}
                            <li>{{ display_spec }}</li>
                            {% endfor %}
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <h5>处理器</h5>
                        <ul>
                            {% for chip_spec in phone.tech_specs.chip %}
                            <li>{{ chip_spec }}</li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
                <div class="row mt-4">
                    <div class="col-md-6">
                        <h5>相机系统</h5>
                        <ul>
                            {% for camera_spec in phone.tech_specs.camera %}
                            <li>{{ camera_spec }}</li>
                            {% endfor %}
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <h5>电池和充电</h5>
                        <ul>
                            {% for battery_spec in phone.tech_specs.battery %}
                            <li>{{ battery_spec }}</li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- In the Box Section -->
    <div class="row mt-5">
        <div class="col-12">
            <h3 class="section-title">包装内容</h3>
            <ul class="in-box-list">
                {% for item in phone.in_box %}
                <li>{{ item }}</li>
                {% endfor %}
            </ul>
        </div>
    </div>
</div>

<!-- Include Footer -->
{% include 'footer.html' %}

<style>
    .phone-detail-container {
        padding-bottom: 50px;
    }
    
    .phone-title {
        font-size: 2.5rem;
        font-weight: 600;
    }
    
    .phone-tagline {
        font-size: 1.2rem;
        color: #6c757d;
        margin-bottom: 20px;
    }
    
    .phone-price {
        font-size: 1.5rem;
    }
    
    .current-price {
        font-weight: 600;
    }
    
    .original-price {
        text-decoration: line-through;
        color: #6c757d;
        margin-left: 10px;
    }
    
    .color-options, .storage-options {
        margin-top: 20px;
    }
    
    .color-option {
        width: 30px;
        height: 30px;
        border-radius: 50%;
        margin-right: 10px;
        cursor: pointer;
        border: 2px solid transparent;
    }
    
    .color-option.selected {
        border-color: #007bff;
    }
    
    .storage-option {
        padding: 8px 15px;
        border: 1px solid #dee2e6;
        border-radius: 5px;
        margin-right: 10px;
        margin-bottom: 10px;
        cursor: pointer;
    }
    
    .storage-option.selected {
        border-color: #007bff;
        background-color: #f8f9fa;
    }
    
    .specs-list {
        padding-left: 20px;
    }
    
    .section-title {
        padding-bottom: 15px;
        border-bottom: 1px solid #dee2e6;
        margin-bottom: 20px;
    }
    
    .tech-specs ul {
        padding-left: 20px;
    }
    
    .in-box-list {
        padding-left: 20px;
        columns: 2;
    }
    
    /* Footer Styles */
    .footer {
        background-color: #f8f9fa;
        padding: 50px 0 20px;
        margin-top: 50px;
        border-top: 1px solid #dee2e6;
    }
    
    .footer h5 {
        font-size: 1.1rem;
        font-weight: 600;
        margin-bottom: 20px;
    }
    
    .footer ul li {
        margin-bottom: 10px;
    }
    
    .footer .input-group {
        margin-top: 15px;
    }
</style>

<script>
    // JavaScript for interactive elements
    document.addEventListener('DOMContentLoaded', function() {
        // Color selection
        const colorOptions = document.querySelectorAll('.color-option');
        colorOptions.forEach(option => {
            option.addEventListener('click', function() {
                colorOptions.forEach(opt => opt.classList.remove('selected'));
                this.classList.add('selected');
            });
        });
        
        // Storage selection
        const storageOptions = document.querySelectorAll('.storage-option');
        storageOptions.forEach(option => {
            option.addEventListener('click', function() {
                storageOptions.forEach(opt => opt.classList.remove('selected'));
                this.classList.add('selected');
            });
        });
    });
</script>
{% endblock %} 